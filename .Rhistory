# Load your data
library(lidR)
library(dplyr)
library(ggplot2)
# Read LAS file
trees <- readLAS("D:/xxx/lasref/12tree_exampleN.las")
trees_filtered <- filter_poi(trees, treeid %in% c(1,8,9,11,12))
# Extract points
lasdff <- trees_filtered@data[,c("X", "Y", "Z", "treeid")] %>%
as.data.frame() %>%
distinct(across(1:3), .keep_all = TRUE) %>%
as.matrix()
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==8, 2, lasdff[,"treeid"])
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==9, 3, lasdff[,"treeid"])
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==11, 4, lasdff[,"treeid"])
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==12, 5, lasdff[,"treeid"])
##
# Install from GitHub
remotes::install_github("DijoG/DiscreteMorseR")
a <- AlphaHull3D::ahull3d(lasdff[,1:3], alpha = .1)
a
# Create package
Rcpp::compileAttributes()
devtools::document()
devtools::document()
devtools::document()
gc()
# Load your data
library(lidR)
library(dplyr)
# Read LAS file
trees <- readLAS("D:/xxx/lasref/12tree_exampleN.las")
trees_filtered <- filter_poi(trees, treeid %in% c(1,8,9,11,12))
# Extract points
lasdff <- trees_filtered@data[,c("X", "Y", "Z", "treeid")] %>%
as.data.frame() %>%
distinct(across(1:3), .keep_all = TRUE) %>%
as.matrix()
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==8, 2, lasdff[,"treeid"])
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==9, 3, lasdff[,"treeid"])
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==11, 4, lasdff[,"treeid"])
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==12, 5, lasdff[,"treeid"])
tictoc::tic()
a <- ahull3D::ahull3d(
points = lasdff[,1:3],
input_truth = lasdff[,4],
alpha = .1
)
titoc::toc()
a
input_truth <- attr(a, "input_truth") # should be a vector or a matrix of 1*x dimensions
face_truth <- attr(a, "face_truth") # should be a matrix of 3*x dimensions
a$vb
input_truth
a
str(input_truth)
str(input_truth)
str(face_truth)
str(a$vb)
a[1:4, 5:10]
a$vb[1:4, 5:10]
table(a$vb[4,])
str(input_truth)
str(face_truth)
str(a$vb)
# Install
devtools::install()
library(lidR)
library(dplyr)
# Read LAS file
trees <- readLAS("D:/xxx/lasref/12tree_exampleN.las")
trees_filtered <- filter_poi(trees, treeid %in% c(1,8,9,11,12))
# Extract points
lasdff <- trees_filtered@data[,c("X", "Y", "Z", "treeid")] %>%
as.data.frame() %>%
distinct(across(1:3), .keep_all = TRUE) %>%
as.matrix()
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==8, 2, lasdff[,"treeid"])
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==9, 3, lasdff[,"treeid"])
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==11, 4, lasdff[,"treeid"])
lasdff[,"treeid"] <- ifelse(lasdff[,"treeid"]==12, 5, lasdff[,"treeid"])
tictoc::tic()
a <- ahull3D::ahull3d(
points = lasdff[,1:3],
input_truth = lasdff[,4],
alpha = .1
)
tictoc::toc()
input_truth <- attr(a, "input_truth") # should be a vector or a matrix of 1*x dimensions
face_truth <- attr(a, "face_truth") # should be a matrix of 3*x dimensions
table(input_truth)
str(face_truth)
remove.packages("ahull3D")
